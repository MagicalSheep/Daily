# 分析

将问题转换为两人同时从`(1, 1)`出发到`(n, n)`的最大价值和。考虑某个状态下具有的信息：两人所处的坐标、最大价值和，其中，最大价值和为所求值，故考虑将两人所处的坐标作为状态，设置状态如下：

`f(i, j, k, l)`表示两人坐标分别为`(i, j)`和`(k, l)`的状态时所具有的最大价值和。由于每个人只能向两个方向移动，故共有四种不同的状态转移来源。取转移来源中最大的值，加上当前状态的价值（两人在同一个位置只加一个值）。初始时，`f(1, 1, 1, 1)`为`a(1, 1)`的值。

然而，如此设置状态内存不足，我们需要考虑用其他方法压缩维度。我们的状态转移方程需要两人的坐标信息（用于计算该状态下增加的价值），因此，在压缩维度时至少需要已知横纵坐标的其中一个。自然的，考虑能否通过一个变量和其中一个坐标两个信息计算得出另一个坐标信息？注意到每一次移动过程中，必然会使横坐标或纵坐标的其中一个加一，即如果移动次数为`i`（初始时移动次数为1），横坐标为`j`，则纵坐标为`i - j + 1`。因此，状态设置为：

`f(i, j, k)`表示移动次数为`i`，两人的横坐标分别为`j`和`k`的状态时所具有的最大价值和。

接下来考虑各维度状态变量的取值范围，`j`和`k`易知，而`i`的最大值为`2 * n - 1`（类BFS，走到`(n, n)`的最大步数）